# REST API для справочника организаций

## Описание

Этот проект реализует REST API для приложения справочника организаций. API позволяет пользователям управлять организациями, зданиями и видами деятельности. Он предоставляет различные конечные точки для взаимодействия с данными, включая поиск организаций по названию, виду деятельности и местоположению.

## Используемые технологии

- **FastAPI**: Современный веб-фреймворк для создания API на Python 3.6+ на основе стандартных аннотаций типов Python.
- **Pydantic**: Валидация данных и управление настройками с использованием аннотаций типов Python.
- **SQLAlchemy**: SQL инструмент и система объектно-реляционного отображения (ORM) для Python.
- **Alembic**: Легкий инструмент миграции базы данных для использования с SQLAlchemy.
- **Docker**: Платформа контейнеризации для упаковки приложения и его зависимостей.
- **Docker Compose**: Инструмент для определения и запуска многоконтейнерных Docker приложений.

## Проектирование базы данных

База данных состоит из трех основных сущностей:

1. **Организация**: Представляет организацию со следующими полями:

   - `name`: Название организации (например, "ООО Рога и Копыта").
   - `phone_numbers`: Список номеров телефонов, связанных с организацией.
   - `building_id`: Внешний ключ, ссылающийся на здание, в котором находится организация.
   - `activities`: Связь многие-ко-многим с видами деятельности.

2. **Здание**: Представляет здание со следующими полями:

   - `address`: Адрес здания (например, "г. Москва, ул. Ленина 1, офис 3").
   - `latitude`: Географическая широта здания.
   - `longitude`: Географическая долгота здания.

3. **Деятельность**: Представляет вид деятельности с следующими полями:
   - `name`: Название вида деятельности (например, "Еда").
   - `parent_id`: Внешний ключ, ссылающийся на родительскую деятельность для иерархической классификации.

## Конечные точки API

Доступные конечные точки:

- **GET /api/buildings/{building_id}/organizations**: Список всех организаций в конкретном здании.
- **GET /api/activities/{activity_id}/organizations/search**: Список всех организаций, относящихся к указанному виду деятельности, включая вложенные виды.
- **GET /api/organizations/search**: Поиск организаций по названию.
- **GET /api/organizations/nearby/circular**: Список организаций в заданном радиусе от точки.
- **GET /api/organizations/nearby/rectangular**: Список организаций в заданной прямоугольной области.
- **GET /api/organizations/{organization_id}**: Получить информацию об организации по её идентификатору.

## Инструкции по разворачиванию

Клонируйте репозиторий:

```bash
git clone https://github.com/SaBog/rest_api_app.git
cd rest_api_app
docker-compose up --build
```

[ Swagger UI ](http://localhost:8000/docs)
/
[ Redoc ](http://localhost:8000/redoc)
